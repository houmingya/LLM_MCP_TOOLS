# ğŸš€ LLM MCP Tools - æ™ºèƒ½å·¥å…·è°ƒåº¦ç³»ç»Ÿ

<div align="center">

[![Python Version](https://img.shields.io/badge/python-3.10%2B-blue)](https://www.python.org/downloads/)
[![FastMCP](https://img.shields.io/badge/FastMCP-2.0-green)](https://gofastmcp.com/)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![GitHub Stars](https://img.shields.io/github/stars/houmingya/LLM_MCP_TOOLS?style=social)](https://github.com/houmingya/LLM_MCP_TOOLS/stargazers)

**åŸºäº FastMCP 2.0 çš„æ™ºèƒ½å·¥å…·è°ƒåº¦ç³»ç»Ÿ | æ”¯æŒçŸ¥è¯†å›¾è°±ã€å‘é‡æœç´¢ã€å®æ—¶è¿›åº¦æ˜¾ç¤º**

[ç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ¶æ„](#-ç³»ç»Ÿæ¶æ„) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£) â€¢ [è´¡çŒ®](#-å‚ä¸è´¡çŒ®)

</div>

---

## ğŸ“– ç®€ä»‹

LLM MCP Tools æ˜¯ä¸€ä¸ªåŸºäº **Model Context Protocol (MCP)** å’Œ **FastMCP 2.0** æ„å»ºçš„æ™ºèƒ½å·¥å…·è°ƒåº¦ç³»ç»Ÿã€‚å®ƒé€šè¿‡å¤§æ¨¡å‹çš„ Function Calling èƒ½åŠ›ï¼Œè®© AI èƒ½å¤Ÿè‡ªä¸»é€‰æ‹©å’Œè°ƒç”¨å„ç§å·¥å…·ï¼Œå®ç°ä»ç®€å•è®¡ç®—åˆ°å¤æ‚çŸ¥è¯†å›¾è°±åˆ†æçš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚

### ğŸ¯ é€‚ç”¨åœºæ™¯

- ğŸ¢ **ä¼ä¸šçŸ¥è¯†ç®¡ç†**ï¼šæ–‡æ¡£ä¸Šä¼ ã€å‘é‡æ£€ç´¢ã€çŸ¥è¯†å›¾è°±æ„å»º
- ğŸ’¼ **ä¸šåŠ¡æ•°æ®åˆ†æ**ï¼šå‘˜å·¥ä¿¡æ¯æŸ¥è¯¢ã€éƒ¨é—¨ç»Ÿè®¡ã€æ•°æ®å¯è§†åŒ–
- ğŸ¤– **æ™ºèƒ½åŠ©æ‰‹å¼€å‘**ï¼šå¤šè½®å¯¹è¯ã€å·¥å…·è°ƒåº¦ã€å®æ—¶åé¦ˆ
- ğŸ“š **MCP åè®®å­¦ä¹ **ï¼šè§£è€¦æ¶æ„ã€æ ‡å‡†åŒ–æ¥å£ã€å·¥å…·æ³¨å†Œ

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”§ ä¸°å¯Œçš„å·¥å…·ç”Ÿæ€

| ç±»åˆ« | å·¥å…·æ•°é‡ | ä¸»è¦åŠŸèƒ½ |
|------|---------|---------|
| ğŸ“Š **æ•°æ®åº“å·¥å…·** | 6ä¸ª | å‘˜å·¥æŸ¥è¯¢ã€éƒ¨é—¨ç»Ÿè®¡ã€è–ªèµ„åˆ†æ |
| ğŸ“š **çŸ¥è¯†åº“å·¥å…·** | 3ä¸ª | æ–‡æ¡£ä¸Šä¼ ã€å‘é‡æœç´¢ã€æ–‡æ¡£ç®¡ç† |
| ğŸ§  **çŸ¥è¯†å›¾è°±å·¥å…·** | 7ä¸ª | å®ä½“æŠ½å–ã€å…³ç³»æ„å»ºã€å›¾è°±æŸ¥è¯¢ã€è·¯å¾„åˆ†æ |
| ğŸ§® **è®¡ç®—å·¥å…·** | 3ä¸ª | æ•°å­¦è¿ç®—ã€ç»Ÿè®¡åˆ†æã€å•ä½è½¬æ¢ |
| â° **æ—¶é—´å·¥å…·** | 4ä¸ª | å½“å‰æ—¶é—´ã€æ—¥æœŸè®¡ç®—ã€æ—¶åŒºè½¬æ¢ |
| ğŸŒ **APIå·¥å…·** | 3ä¸ª | HTTPè¯·æ±‚ã€å¤©æ°”æŸ¥è¯¢ã€å¤–éƒ¨æ¥å£ |

**æ€»è®¡ï¼š26+ ä¸ªå·¥å…·å‡½æ•°**

### ğŸ¨ ç‹¬ç‰¹ä¼˜åŠ¿

âœ… **è§£è€¦æ¶æ„**ï¼šMCP Server å’Œ Web App å®Œå…¨åˆ†ç¦»ï¼Œæ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œæ‰©å±•  
âœ… **è‡ªåŠ¨å‘ç°**ï¼šæ–°å¢å·¥å…·è‡ªåŠ¨æ³¨å†Œï¼Œæ— éœ€ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç   
âœ… **çŸ¥è¯†å›¾è°±**ï¼šè‡ªåŠ¨æå–å®ä½“å…³ç³»ï¼Œæ”¯æŒå›¾è°±å¯è§†åŒ–å’Œè·¯å¾„æŸ¥è¯¢  
âœ… **å®æ—¶è¿›åº¦**ï¼šæ–‡æ¡£å¤„ç†è¿‡ç¨‹å®æ—¶æ˜¾ç¤ºï¼Œç”¨æˆ·ä½“éªŒå‹å¥½  
âœ… **å‘é‡æœç´¢**ï¼šåŸºäº ChromaDB çš„é«˜æ•ˆæ–‡æ¡£æ£€ç´¢  
âœ… **å¤šè½®å¯¹è¯**ï¼šæ”¯æŒä¸Šä¸‹æ–‡ç†è§£å’Œä¼šè¯ç®¡ç†  
âœ… **æ ‡å‡†åè®®**ï¼šéµå¾ª MCP æ ‡å‡†ï¼Œæ˜“äºæ‰©å±•å’Œé›†æˆ

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·æµè§ˆå™¨                                 â”‚
â”‚                 (http://localhost:8000)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ WebSocket (å®æ—¶é€šä¿¡)
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Web App (FastAPI)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  WebSocket  â”‚  â”‚  MCP Client  â”‚  â”‚  LLM Client  â”‚       â”‚
â”‚  â”‚   Handler   â”‚â†’ â”‚  (HTTPè°ƒç”¨)  â”‚â†’ â”‚ (é€šä¹‰åƒé—®)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                          â†“                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP (MCP Protocol)
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               MCP Server (FastMCP 2.0)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             å·¥å…·æ³¨å†Œä¸­å¿ƒ (@mcp.tool())                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†“              â†“              â†“              â†“       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ•°æ®åº“å·¥å…· â”‚  â”‚ çŸ¥è¯†åº“å·¥å…· â”‚  â”‚ çŸ¥è¯†å›¾è°±  â”‚  â”‚ è®¡ç®—å·¥å…·  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚              â”‚              â”‚              â”‚
       â†“              â†“              â†“              â†“
   MySQL      ChromaDB(å‘é‡)  NetworkX(å›¾è°±)   å¤–éƒ¨API
```

### æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**ï¼šFastAPI + FastMCP 2.0
- **å¤§æ¨¡å‹**ï¼šé€šä¹‰åƒé—® Qwenï¼ˆæ”¯æŒ Function Callingï¼‰
- **æ•°æ®åº“**ï¼šMySQLï¼ˆç»“æ„åŒ–æ•°æ®ï¼‰ + ChromaDBï¼ˆå‘é‡æ•°æ®åº“ï¼‰
- **çŸ¥è¯†å›¾è°±**ï¼šNetworkXï¼ˆå›¾å­˜å‚¨ï¼‰ + OpenAI APIï¼ˆå®ä½“æŠ½å–ï¼‰
- **é€šä¿¡åè®®**ï¼šWebSocketï¼ˆå®æ—¶é€šä¿¡ï¼‰ + HTTPï¼ˆMCPåè®®ï¼‰
- **å‰ç«¯**ï¼šåŸç”Ÿ JavaScript + Marked.jsï¼ˆMarkdownæ¸²æŸ“ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- MySQL 5.7+ï¼ˆå¯é€‰ï¼Œç”¨äºæ•°æ®åº“å·¥å…·ï¼‰
- é€šä¹‰åƒé—® API Key

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/houmingya/LLM_MCP_TOOLS.git
cd LLM_MCP_TOOLS
```

### 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# ä½¿ç”¨ conda
conda create -n mcp-demo python=3.10 -y
conda activate mcp-demo

# æˆ–ä½¿ç”¨ venv
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 4. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å†™é…ç½®ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```ini
# å¤§æ¨¡å‹é…ç½®
LLM_API_KEY=your_qwen_api_key
LLM_API_BASE=https://dashscope.aliyuncs.com/compatible-mode/v1
LLM_MODEL=qwen-plus

# æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼‰
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=test_db
```

æˆ–ç›´æ¥ç¼–è¾‘ `config/settings.py`ã€‚

### 5. å¯åŠ¨æœåŠ¡

**æ–¹å¼ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰**

```bash
python run.py
```

è¿™å°†åŒæ—¶å¯åŠ¨ï¼š
- MCP Server: `http://localhost:8001/mcp`
- Web App: `http://localhost:8000`

**æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨ï¼ˆå¼€å‘è°ƒè¯•ï¼‰**

```bash
# ç»ˆç«¯1 - å¯åŠ¨ MCP Server
python run_mcp_server.py

# ç»ˆç«¯2 - å¯åŠ¨ Web App
python run.py --mode webapp
```

### 6. è®¿é—®åº”ç”¨

æµè§ˆå™¨æ‰“å¼€ï¼š**http://localhost:8000**

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€å¯¹è¯

```
ğŸ‘¤ ä½ å¥½ï¼Œä½ èƒ½åšä»€ä¹ˆï¼Ÿ
ğŸ¤– æˆ‘å¯ä»¥å¸®æ‚¨ï¼š
   â€¢ æŸ¥è¯¢å‘˜å·¥å’Œéƒ¨é—¨ä¿¡æ¯
   â€¢ ä¸Šä¼ å’Œæœç´¢æ–‡æ¡£
   â€¢ æ„å»ºå’ŒæŸ¥è¯¢çŸ¥è¯†å›¾è°±
   â€¢ è¿›è¡Œæ•°å­¦è®¡ç®—å’Œç»Ÿè®¡åˆ†æ
   â€¢ è·å–æ—¶é—´ä¿¡æ¯å’Œè¿›è¡Œæ—¥æœŸè®¡ç®—
   â€¢ å‘èµ·HTTPè¯·æ±‚å’ŒæŸ¥è¯¢å¤©æ°”
```

### æ•°æ®åº“æŸ¥è¯¢

```
ğŸ‘¤ æŸ¥è¯¢é”€å”®éƒ¨æœ‰å¤šå°‘å‘˜å·¥ï¼Œå¹³å‡è–ªèµ„æ˜¯å¤šå°‘ï¼Ÿ
ğŸ¤– [è°ƒç”¨ query_employees_by_department(department_id=2)]
   [è°ƒç”¨ get_department_statistics()]
   
   é”€å”®éƒ¨å…±æœ‰ 15 åå‘˜å·¥ï¼Œå¹³å‡è–ªèµ„ä¸º 8,500 å…ƒã€‚
```

### æ–‡æ¡£ä¸Šä¼ ä¸æ£€ç´¢

```
ğŸ‘¤ å¸®æˆ‘ä¸Šä¼ è¿™ä»½äº§å“è¯´æ˜ä¹¦
ğŸ¤– [è°ƒç”¨ upload_document(file)]
   ğŸ“¤ æ­£åœ¨ä¸Šä¼ æ–‡æ¡£...
   ğŸ“ å·²åˆ†å‰²ä¸º 23 ä¸ªæ–‡æœ¬å—
   ğŸ§  æ­£åœ¨åˆ†æç¬¬ 1/5 ä¸ªæ–‡æœ¬å—...
   ğŸ§  æ­£åœ¨åˆ†æç¬¬ 2/5 ä¸ªæ–‡æœ¬å—...
   âœ… çŸ¥è¯†å›¾è°±æ„å»ºå®Œæˆï¼
   
   æ–‡æ¡£ä¸Šä¼ æˆåŠŸï¼å·²æå– 18 ä¸ªå®ä½“å’Œ 25 æ¡å…³ç³»ã€‚

ğŸ‘¤ è¿™ä»½æ–‡æ¡£é‡Œæåˆ°çš„ä¸»è¦åŠŸèƒ½æœ‰å“ªäº›ï¼Ÿ
ğŸ¤– [è°ƒç”¨ search_documents(query="ä¸»è¦åŠŸèƒ½")]
   
   æ ¹æ®æ–‡æ¡£ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
   1. æ•°æ®é‡‡é›†ä¸å­˜å‚¨
   2. å®æ—¶ç›‘æ§ä¸å‘Šè­¦
   3. æ•°æ®åˆ†æä¸å¯è§†åŒ–
   ...
```

### çŸ¥è¯†å›¾è°±æŸ¥è¯¢

```
ğŸ‘¤ æµªæ½®äº‘æ´²å’Œå“ªäº›é¡¹ç›®æœ‰å…³ç³»ï¼Ÿ
ğŸ¤– [è°ƒç”¨ query_entity(entity_name="æµªæ½®äº‘æ´²")]
   
   æµªæ½®äº‘æ´²åœ¨çŸ¥è¯†å›¾è°±ä¸­æœ‰ä»¥ä¸‹å…³ç³»ï¼š
   â€¢ å¼€å‘ â†’ äº‘æ´²æ•°æ®æ²»ç†ç³»ç»Ÿ
   â€¢ æä¾› â†’ æ•°æ®å¯è§†åŒ–å¹³å°
   â€¢ åº”ç”¨äº â†’ é‡‘å·äº§ä¸šæƒ…æŠ¥å¹³å°
   ...

ğŸ‘¤ æµªæ½®äº‘æ´²å’Œé‡‘å·é›†å›¢ä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»ï¼Ÿ
ğŸ¤– [è°ƒç”¨ find_entity_path(source="æµªæ½®äº‘æ´²", target="é‡‘å·é›†å›¢")]
   
   æ‰¾åˆ°å…³ç³»è·¯å¾„ï¼š
   æµªæ½®äº‘æ´² â†’ å¼€å‘ â†’ å†³ç­–æ”¯æŒå¹³å° â†’ åº”ç”¨äº â†’ é‡‘å·é›†å›¢
```

### è®¡ç®—ä¸åˆ†æ

```
ğŸ‘¤ è®¡ç®— (123 + 456) * 2 - 89
ğŸ¤– [è°ƒç”¨ calculate(expression="(123 + 456) * 2 - 89")]
   
   è®¡ç®—ç»“æœï¼š1,069

ğŸ‘¤ å¸®æˆ‘åˆ†æä¸€ä¸‹è¿™ç»„æ•°æ®çš„ç»Ÿè®¡ç‰¹å¾ï¼š[23, 45, 67, 89, 12, 34, 56, 78]
ğŸ¤– [è°ƒç”¨ statistics_analysis(data=[23,45,67,89,12,34,56,78])]
   
   ç»Ÿè®¡åˆ†æç»“æœï¼š
   â€¢ å¹³å‡å€¼ï¼š50.5
   â€¢ ä¸­ä½æ•°ï¼š50.5
   â€¢ æ ‡å‡†å·®ï¼š26.4
   â€¢ æœ€å°å€¼ï¼š12ï¼Œæœ€å¤§å€¼ï¼š89
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
LLM_MCP_TOOLS/
â”œâ”€â”€ ğŸ“„ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ requirements.txt              # Pythonä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ğŸ“„ .env.example                  # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ .gitignore                    # Gitå¿½ç•¥æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸš€ run.py                        # ç»Ÿä¸€å¯åŠ¨å…¥å£
â”œâ”€â”€ ğŸš€ run_decoupled.py             # è§£è€¦æ¨¡å¼å¯åŠ¨ï¼ˆåŒæ—¶å¯åŠ¨ä¸¤æœåŠ¡ï¼‰
â”œâ”€â”€ ğŸš€ run_mcp_server.py            # å•ç‹¬å¯åŠ¨ MCP Server
â”‚
â”œâ”€â”€ âš™ï¸ config/                       # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ settings.py                 # é…ç½®ä¸­å¿ƒï¼ˆæ•°æ®åº“ã€LLMã€ç«¯å£ç­‰ï¼‰
â”‚
â”œâ”€â”€ ğŸ”§ mcp_server/                   # MCP Server (port 8001)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ server.py                   # ğŸ¯ å·¥å…·æ³¨å†Œä¸­å¿ƒ (@mcp.tool())
â”‚   â”œâ”€â”€ prompts.py                  # æç¤ºè¯æ¨¡æ¿
â”‚   â””â”€â”€ tools/                      # å·¥å…·å®ç°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ database_tools.py       # æ•°æ®åº“å·¥å…·ï¼ˆ6ä¸ªå‡½æ•°ï¼‰
â”‚       â”œâ”€â”€ knowledge_tools.py      # çŸ¥è¯†åº“å·¥å…·ï¼ˆ3ä¸ªå‡½æ•°ï¼‰
â”‚       â”œâ”€â”€ knowledge_graph_tools.py # çŸ¥è¯†å›¾è°±å·¥å…·ï¼ˆ7ä¸ªå‡½æ•°ï¼‰
â”‚       â”œâ”€â”€ calculation_tools.py    # è®¡ç®—å·¥å…·ï¼ˆ3ä¸ªå‡½æ•°ï¼‰
â”‚       â”œâ”€â”€ time_tools.py          # æ—¶é—´å·¥å…·ï¼ˆ4ä¸ªå‡½æ•°ï¼‰
â”‚       â””â”€â”€ api_tools.py           # APIå·¥å…·ï¼ˆ3ä¸ªå‡½æ•°ï¼‰
â”‚
â”œâ”€â”€ ğŸŒ web_app/                      # Web App (port 8000)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                     # ğŸ¯ FastAPIåº”ç”¨ + WebSocket + LLM
â”‚   â”œâ”€â”€ mcp_client.py              # ğŸ¯ MCP Clientï¼ˆHTTPé€šä¿¡ï¼‰
â”‚   â””â”€â”€ static/                    # å‰ç«¯é™æ€æ–‡ä»¶
â”‚       â”œâ”€â”€ index.html             # ä¸»é¡µé¢
â”‚       â”œâ”€â”€ knowledge-graph.html   # çŸ¥è¯†å›¾è°±å¯è§†åŒ–
â”‚       â”œâ”€â”€ css/
â”‚       â”‚   â””â”€â”€ style.css         # æ ·å¼æ–‡ä»¶
â”‚       â””â”€â”€ js/
â”‚           â”œâ”€â”€ app.js            # åº”ç”¨åˆå§‹åŒ–
â”‚           â”œâ”€â”€ websocket.js      # WebSocketè¿æ¥ç®¡ç†
â”‚           â”œâ”€â”€ chat.js           # èŠå¤©åŠŸèƒ½
â”‚           â”œâ”€â”€ message-handler.js # æ¶ˆæ¯å¤„ç†ï¼ˆå«è¿›åº¦æ˜¾ç¤ºï¼‰
â”‚           â”œâ”€â”€ file-upload.js    # æ–‡ä»¶ä¸Šä¼ 
â”‚           â”œâ”€â”€ knowledge-graph.js # çŸ¥è¯†å›¾è°±å¯è§†åŒ–
â”‚           â””â”€â”€ utils.js          # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ ğŸ“š docs/                         # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ çŸ¥è¯†å›¾è°±æŠ€æœ¯æ·±åº¦è§£æ.md
â”‚   â”œâ”€â”€ çŸ¥è¯†å›¾è°±åº”ç”¨è¯´æ˜.md
â”‚   â”œâ”€â”€ æ–‡æœ¬å—å¤„ç†è¿›åº¦åŠŸèƒ½è¯´æ˜.md
â”‚   â””â”€â”€ MCP_API_å®Œæ•´å¯¹ç…§è¡¨.md
â”‚
â”œâ”€â”€ ğŸ“¤ uploads/                      # æ–‡æ¡£ä¸Šä¼ ç›®å½•ï¼ˆ.gitignoreï¼‰
â”œâ”€â”€ ğŸ’¾ chroma_db/                    # ChromaDBæ•°æ®ç›®å½•ï¼ˆ.gitignoreï¼‰
â””â”€â”€ ğŸ§  knowledge_graph_data/         # çŸ¥è¯†å›¾è°±æ•°æ®ï¼ˆ.gitignoreï¼‰
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°å·¥å…·

åªéœ€åœ¨ `mcp_server/server.py` ä¸­æ·»åŠ ï¼š

```python
@mcp.tool()
def my_new_tool(param1: str, param2: int = 10) -> Dict[str, Any]:
    """
    å·¥å…·æè¿°ï¼ˆä¼šè‡ªåŠ¨ä½œä¸ºå·¥å…·çš„è¯´æ˜ï¼‰
    
    Args:
        param1: å‚æ•°1çš„è¯´æ˜
        param2: å‚æ•°2çš„è¯´æ˜ï¼Œé»˜è®¤å€¼10
        
    Returns:
        è¿”å›å€¼è¯´æ˜
    """
    # å®ç°ä½ çš„é€»è¾‘
    result = do_something(param1, param2)
    
    return {
        "success": True,
        "data": result,
        "message": "æ‰§è¡ŒæˆåŠŸ"
    }
```

é‡å¯ MCP Serverï¼ŒWeb App ä¼š**è‡ªåŠ¨è¯†åˆ«æ–°å·¥å…·**ï¼âœ¨  
æ— éœ€ä¿®æ”¹ `main.py`ã€å·¥å…·åˆ—è¡¨æˆ–å‰ç«¯ä»£ç ã€‚

### å·¥å…·å¼€å‘æœ€ä½³å®è·µ

1. **æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²**ï¼šä¼šä½œä¸ºå·¥å…·æè¿°ä¼ é€’ç»™å¤§æ¨¡å‹
2. **ç±»å‹æ³¨è§£**ï¼šå¸®åŠ©è‡ªåŠ¨ç”Ÿæˆå·¥å…·å‚æ•°schema
3. **ç»Ÿä¸€çš„è¿”å›æ ¼å¼**ï¼šå»ºè®®åŒ…å« `success`ã€`data`ã€`message` å­—æ®µ
4. **é”™è¯¯å¤„ç†**ï¼šæ•è·å¼‚å¸¸å¹¶è¿”å›å‹å¥½çš„é”™è¯¯ä¿¡æ¯

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements-dev.txt

# è¿è¡Œæµ‹è¯•
pytest tests/

# ä»£ç æ ¼å¼åŒ–
black .
isort .

# ç±»å‹æ£€æŸ¥
mypy .
```

---

## ğŸ“š æ–‡æ¡£

- [çŸ¥è¯†å›¾è°±æŠ€æœ¯æ·±åº¦è§£æ](docs/çŸ¥è¯†å›¾è°±æŠ€æœ¯æ·±åº¦è§£æ.md)
- [çŸ¥è¯†å›¾è°±åº”ç”¨è¯´æ˜](docs/çŸ¥è¯†å›¾è°±åº”ç”¨è¯´æ˜.md)
- [æ–‡æœ¬å—å¤„ç†è¿›åº¦åŠŸèƒ½è¯´æ˜](docs/æ–‡æœ¬å—å¤„ç†è¿›åº¦åŠŸèƒ½è¯´æ˜.md)
- [MCP APIå®Œæ•´å¯¹ç…§è¡¨](docs/MCP_API_å®Œæ•´å¯¹ç…§è¡¨.md)

### å¤–éƒ¨èµ„æº

- [FastMCP å®˜æ–¹æ–‡æ¡£](https://gofastmcp.com/)
- [MCP åè®®è§„èŒƒ](https://modelcontextprotocol.io/)
- [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [ChromaDB æ–‡æ¡£](https://docs.trychroma.com/)
- [NetworkX æ–‡æ¡£](https://networkx.org/)

---

## â“ å¸¸è§é—®é¢˜

### Q: ChromaDB æŠ¥é”™ "Insert of existing embedding ID"ï¼Ÿ

**A**: è¿™æ˜¯é‡å¤ä¸Šä¼ æ–‡æ¡£å¯¼è‡´çš„ã€‚å·²åœ¨æ–°ç‰ˆæœ¬ä¸­ä¿®å¤ï¼Œä½¿ç”¨ `upsert` æ›¿ä»£ `add`ã€‚

### Q: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

**A**: ä¿®æ”¹ `config/settings.py` ä¸­çš„ç«¯å£é…ç½®ï¼š

```python
class WebConfig:
    PORT = 8000  # æ”¹æˆå…¶ä»–ç«¯å£å¦‚ 8080

class MCPServerConfig:
    PORT = 8001  # æ”¹æˆå…¶ä»–ç«¯å£å¦‚ 8081
```

### Q: çŸ¥è¯†å›¾è°±æ„å»ºå¾ˆæ…¢ï¼Ÿ

**A**: è¿™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºéœ€è¦è°ƒç”¨å¤§æ¨¡å‹APIè¿›è¡Œå®ä½“æŠ½å–ã€‚æ–‡æ¡£è¶Šé•¿ï¼Œéœ€è¦çš„æ—¶é—´è¶Šé•¿ã€‚æ–°ç‰ˆæœ¬å·²æ”¯æŒå®æ—¶è¿›åº¦æ˜¾ç¤ºã€‚

### Q: å¦‚ä½•ä¸ä½¿ç”¨æ•°æ®åº“å·¥å…·ï¼Ÿ

**A**: æ•°æ®åº“å·¥å…·æ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸éœ€è¦ï¼Œå¯ä»¥åœ¨ `mcp_server/server.py` ä¸­æ³¨é‡Šæ‰ç›¸å…³å·¥å…·çš„æ³¨å†Œå³å¯ã€‚

### Q: æ”¯æŒå“ªäº›å¤§æ¨¡å‹ï¼Ÿ

**A**: ç†è®ºä¸Šæ”¯æŒæ‰€æœ‰å…¼å®¹ OpenAI API æ ¼å¼çš„å¤§æ¨¡å‹ã€‚åªéœ€ä¿®æ”¹ `config/settings.py` ä¸­çš„ `LLMConfig`ï¼š

```python
class LLMConfig:
    API_KEY = "your_api_key"
    API_BASE = "https://api.openai.com/v1"  # æˆ–å…¶ä»–ç«¯ç‚¹
    MODEL_NAME = "gpt-4"  # æˆ–å…¶ä»–æ¨¡å‹
```

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯æ–°åŠŸèƒ½ã€Bugä¿®å¤ã€æ–‡æ¡£æ”¹è¿›è¿˜æ˜¯é—®é¢˜åé¦ˆã€‚

### è´¡çŒ®æ–¹å¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª PEP 8 ä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ™ è‡´è°¢

- [FastMCP](https://gofastmcp.com/) - ä¼˜ç§€çš„ MCP å®ç°æ¡†æ¶
- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- [ChromaDB](https://www.trychroma.com/) - ç®€å•æ˜“ç”¨çš„å‘é‡æ•°æ®åº“
- [NetworkX](https://networkx.org/) - å¼ºå¤§çš„å›¾åˆ†æåº“
- [é€šä¹‰åƒé—®](https://tongyi.aliyun.com/) - é˜¿é‡Œäº‘å¤§æ¨¡å‹æœåŠ¡

---

## ğŸ“§ è”ç³»æ–¹å¼

- GitHub: [@houmingya](https://github.com/houmingya)
- Issues: [é¡¹ç›®é—®é¢˜åé¦ˆ](https://github.com/houmingya/LLM_MCP_TOOLS/issues)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by houmingya

</div>
